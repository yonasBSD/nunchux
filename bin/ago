#!/usr/bin/env bash
# Show relative modification time for a file
file="$1"
secs=$(($(date +%s) - $(stat -Lc %Y "$file" 2>/dev/null || echo 0)))
if [[ $secs -lt 60 ]]; then
  echo "${secs}s ago"
elif [[ $secs -lt 3600 ]]; then
  echo "$((secs / 60))m ago"
elif [[ $secs -lt 86400 ]]; then
  echo "$((secs / 3600))h ago"
else echo "$((secs / 86400))d ago"; fi

# vim: ft=bash ts=2 sw=2 et
